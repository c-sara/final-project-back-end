(this["webpackJsonpmood-tracker"]=this["webpackJsonpmood-tracker"]||[]).push([[0],{124:function(e,t,a){},125:function(e,t,a){},158:function(e,t,a){},159:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),s=a(40),i=a.n(s),o=(a(124),a(8)),r=(a(125),a(25)),l=a(20),d=a(34),j=a.n(d),b=a(202),h=a(199),u=a(196),O=a(198),x=a(205),m=a(203),p=a(207),g=a(67),f=a.n(g),v=a(204),y=a(206),C=a(96),S=a(201),k=a(1);function w(e){return Object(k.jsxs)(v.a,Object(r.a)(Object(r.a)({variant:"body2",color:"text.secondary",align:"center"},e),{},{children:["Copyright \xa9 ",Object(k.jsx)(x.a,{color:"inherit",href:"https://mui.com/",children:"Your Website"})," ",(new Date).getFullYear(),"."]}))}var I=Object(C.a)();function A(e){var t=Object(n.useState)(""),a=Object(o.a)(t,2),c=a[0],s=a[1],i=Object(n.useState)(""),r=Object(o.a)(i,2),d=r[0],g=r[1],C=Object(n.useState)(!1),A=Object(o.a)(C,2),D=(A[0],A[1]),F=Object(l.g)();return Object(k.jsx)(S.a,{theme:I,children:Object(k.jsxs)(y.a,{component:"main",maxWidth:"xs",children:[Object(k.jsx)(u.a,{}),Object(k.jsxs)(p.a,{sx:{marginTop:8,display:"flex",flexDirection:"column",alignItems:"center"},children:[Object(k.jsx)(b.a,{sx:{m:1,bgcolor:"secondary.main"},children:Object(k.jsx)(f.a,{})}),Object(k.jsx)(v.a,{component:"h1",variant:"h5",children:"Sign in"}),Object(k.jsxs)(p.a,{component:"form",onSubmit:function(t){t.preventDefault();var a=c,n=d;D(!0),""===a||""===n?console.log("please fill out all details"):j.a.post("/login",{userEmail:a,userPassword:n}).then((function(t){console.log(t.data),t.data.isLoggedIn&&(e.setUserId(t.data.userId),F.push("/"))})).catch((function(e){return console.log(e)}))},noValidate:!0,sx:{mt:1},children:[Object(k.jsx)(O.a,{margin:"normal",required:!0,fullWidth:!0,id:"email",label:"Email Address",name:"email",autoComplete:"email",autoFocus:!0,onChange:function(e){s(e.target.value)}}),Object(k.jsx)(O.a,{margin:"normal",required:!0,fullWidth:!0,name:"password",label:"Password",type:"password",id:"password",autoComplete:"current-password",onChange:function(e){g(e.target.value)}}),Object(k.jsx)(h.a,{type:"submit",fullWidth:!0,variant:"contained",sx:{mt:3,mb:2},children:"Sign In"}),Object(k.jsx)(m.a,{container:!0,children:Object(k.jsx)(m.a,{item:!0,children:Object(k.jsx)(x.a,{href:"/sign-up",variant:"body2",children:"Don't have an account? Sign Up"})})})]})]}),Object(k.jsx)(w,{sx:{mt:8,mb:4}})]})})}function D(e){return Object(k.jsxs)(v.a,Object(r.a)(Object(r.a)({variant:"body2",color:"text.secondary",align:"center"},e),{},{children:["Copyright \xa9 ",Object(k.jsx)(x.a,{color:"inherit",href:"https://mui.com/",children:"Your Website"})," ",(new Date).getFullYear(),"."]}))}var F=Object(C.a)();function W(e){var t=Object(n.useState)(""),a=Object(o.a)(t,2),c=a[0],s=a[1],i=Object(n.useState)(""),r=Object(o.a)(i,2),d=r[0],g=r[1],C=Object(n.useState)(""),w=Object(o.a)(C,2),I=w[0],A=w[1],W=Object(n.useState)(!1),E=Object(o.a)(W,2),N=(E[0],E[1]),M=Object(l.g)();return Object(k.jsx)(S.a,{theme:F,children:Object(k.jsxs)(y.a,{component:"main",maxWidth:"xs",children:[Object(k.jsx)(u.a,{}),Object(k.jsxs)(p.a,{sx:{marginTop:8,display:"flex",flexDirection:"column",alignItems:"center"},children:[Object(k.jsx)(b.a,{sx:{m:1,bgcolor:"secondary.main"},children:Object(k.jsx)(f.a,{})}),Object(k.jsx)(v.a,{component:"h1",variant:"h5",children:"Sign up"}),Object(k.jsxs)(p.a,{component:"form",noValidate:!0,onSubmit:function(t){t.preventDefault();var a=c,n=d,s=I;N(!0),""===a||""===n||""===s?console.log("please fill out all details"):j.a.post("/sign-up",{userName:a,userEmail:n,userPassword:s}).then((function(t){e.setUserId(t.data.userId),M.push("/")})).catch((function(e){return console.log(e)}))},sx:{mt:3},children:[Object(k.jsxs)(m.a,{container:!0,spacing:2,children:[Object(k.jsx)(m.a,{item:!0,xs:12,children:Object(k.jsx)(O.a,{name:"name",required:!0,fullWidth:!0,id:"name",label:"Name",autoFocus:!0,onChange:function(e){s(e.target.value)}})}),Object(k.jsx)(m.a,{item:!0,xs:12,children:Object(k.jsx)(O.a,{required:!0,fullWidth:!0,id:"email",label:"Email Address",name:"email",autoComplete:"email",onChange:function(e){g(e.target.value)}})}),Object(k.jsx)(m.a,{item:!0,xs:12,children:Object(k.jsx)(O.a,{required:!0,fullWidth:!0,name:"password",label:"Password",type:"password",id:"password",autoComplete:"new-password",onChange:function(e){A(e.target.value)}})})]}),Object(k.jsx)(h.a,{type:"submit",fullWidth:!0,variant:"contained",sx:{mt:3,mb:2},children:"Sign Up"}),Object(k.jsx)(m.a,{container:!0,justifyContent:"flex-end",children:Object(k.jsx)(m.a,{item:!0,children:Object(k.jsx)(x.a,{href:"/login",variant:"body2",children:"Already have an account? Sign in"})})})]})]}),Object(k.jsx)(D,{sx:{mt:5}})]})})}var E=a(30);a(158);function N(e){return Object(k.jsxs)("section",{className:"home-wrapper",children:[Object(k.jsx)("h1",{children:"What would you like to do?"}),Object(k.jsxs)("div",{className:"home-links-wrapper",children:[Object(k.jsx)(E.b,{to:"/mood-form/".concat(e.userId),children:Object(k.jsx)("div",{children:"Record my mood"})}),Object(k.jsx)(E.b,{to:"/stats/".concat(e.userId),children:Object(k.jsx)("div",{children:"View my stats"})}),Object(k.jsx)("div",{children:"Find resources (Coming soon)"})]})]})}var M=a(13),P=a(15),T=a(18),U=a(17);function q(e){return Object(k.jsxs)(k.Fragment,{children:[Object(k.jsx)("input",{onClick:e.handleMood,type:"radio",name:"mood",value:e.mood}),Object(k.jsx)("label",{children:e.mood})]})}function L(e){var t=e.habit,a=t.id,n=t.value;return Object(k.jsxs)(k.Fragment,{children:[Object(k.jsx)("input",{onClick:function(){return e.handleChecked(a)},type:"checkbox",name:a,value:a}),Object(k.jsx)("label",{children:n}),Object(k.jsx)("br",{})]})}var _=function(e){Object(T.a)(a,e);var t=Object(U.a)(a);function a(){var e;Object(M.a)(this,a);for(var n=arguments.length,c=new Array(n),s=0;s<n;s++)c[s]=arguments[s];return(e=t.call.apply(t,[this].concat(c))).state={mood:"",habits:[{id:1,value:"Eat healthy",isChecked:!1},{id:2,value:"Drink lots of water",isChecked:!1},{id:3,value:"Adequate sleep",isChecked:!1},{id:4,value:"Exercise",isChecked:!1},{id:5,value:"Practice meditation/mindfulness",isChecked:!1},{id:6,value:"Practice gratitude",isChecked:!1},{id:7,value:"Spend time with friends/family",isChecked:!1},{id:8,value:"Complete a personal goal",isChecked:!1}],note:"",submit:!1},e.moodsArr=["Terrible","Bad","Okay","Good","Amazing"],e.handleSubmit=function(t){t.preventDefault(),console.log("form submitted");var a=e.props.userId,n=e.state.mood,c=e.selectedHabits(),s=e.state.note,i=(new Date).toLocaleString("en-US",{timeZone:"Australia/Melbourne"});j.a.post("/api/moods",{userId:a,mood:n,habits:c,note:s,date:i}).then((function(e){return console.log(e)})).catch((function(e){return console.log(e)})),e.setState({submit:!0})},e.handleMood=function(t){e.setState({mood:t.target.value})},e.handleChecked=function(t){var a=e.state.habits;e.setState({habits:a.map((function(e){return e.id===t?Object(r.a)(Object(r.a)({},e),{},{isChecked:!e.isChecked}):Object(r.a)({},e)}))})},e.handleTextAreaChange=function(t){e.setState({note:t.target.value})},e}return Object(P.a)(a,[{key:"selectedHabits",value:function(){var e=this.state.habits,t=[];return e.forEach((function(e){e.isChecked&&t.push(e.value)})),t}},{key:"render",value:function(){var e=this;return console.log(this.props.userId),Object(k.jsx)("section",{children:Object(k.jsxs)("form",{onSubmit:this.handleSubmit,children:[Object(k.jsx)("h1",{children:"How are you feeling?"}),this.moodsArr.map((function(t,a){return Object(k.jsx)(q,{mood:t,handleMood:e.handleMood},a)})),Object(k.jsx)("h1",{children:"What have you been up to today?"}),this.state.habits.map((function(t,a){return Object(k.jsx)(L,{habit:t,handleChecked:e.handleChecked},a)})),Object(k.jsx)("h1",{children:"Notes"}),Object(k.jsx)("h6",{children:"Optional: You are able to record anything here. For example: highlights/lowlights of the day, daily affirmations, food journal, etc"}),Object(k.jsx)("textarea",{onChange:this.handleTextAreaChange}),Object(k.jsx)("br",{}),Object(k.jsx)("input",{type:"submit",value:"Submit"}),this.state.submit&&""===this.state.mood?Object(k.jsx)("h4",{children:" Please select your mood"}):Object(k.jsx)(k.Fragment,{})]})})}}]),a}(n.Component),Y=_;function B(e){var t=e.userId,a=(new Date).toISOString().slice(0,10);return Object(k.jsxs)("section",{children:[Object(k.jsx)(E.b,{to:"/daily-stats/".concat(t,"/").concat(a),children:Object(k.jsx)("div",{children:"Daily"})}),Object(k.jsx)(E.b,{to:"/graph/".concat(t),children:Object(k.jsx)("div",{children:"Graph"})})]})}function G(){var e=Object(l.h)(),t=Object(l.g)(),a=Object(n.useState)(""),c=Object(o.a)(a,2),s=c[0],i=c[1],r=Object(n.useState)([]),d=Object(o.a)(r,2),b=d[0],h=d[1],u=Object(n.useState)(""),O=Object(o.a)(u,2),x=O[0],m=O[1],p=Object(n.useState)(e.date),g=Object(o.a)(p,2),f=g[0],v=g[1],y=e.user_id;return console.log(e),Object(n.useEffect)((function(){j.a.get("/api/moods/".concat(y,"/").concat(f)).then((function(e){console.log(e.data),i(e.data.mood),h(e.data.habits),m(e.data.comment)}))}),[f]),Object(k.jsxs)("section",{children:[Object(k.jsx)("h1",{children:"daily stats"}),Object(k.jsx)("input",{type:"date",onChange:function(a){v(a.target.value),t.push("/daily-stats/".concat(e.user_id,"/").concat(a.target.value))},value:f}),Object(k.jsx)("h1",{children:s}),Object(k.jsx)("h1",{children:b}),Object(k.jsx)("h1",{children:x})]})}var H=a(97);function V(e){var t=Object(n.useState)([]),a=Object(o.a)(t,2),c=a[0],s=a[1],i=e.userId,r=[],l=[],d=[];Object(n.useEffect)((function(){j.a.get("/api/moods/".concat(i)).then((function(e){s(e.data)}))}),[]),console.log(c),c.forEach((function(e){r.push(e.date),l.push(e.mood),d.push(e.habits)})),console.log(r),console.log(l),console.log(d);var b=r.map((function(e){return e.slice(0,10).split("-").reverse().join("/")}));console.log(b);var h=l.map((function(e){return"Terrible"===e?1:"Bad"===e?2:"Okay"===e?3:"Good"===e?4:"Amazing"===e?5:void 0}));console.log(h);var u=d.map((function(e){return e.length}));console.log(u);var O={labels:b,datasets:[{label:"Mood",data:h,fill:!1,backgroundColor:"rgb(255, 99, 132)",borderColor:"rgba(255, 99, 132, 0.2)",yAxisID:"y-axis-1"},{label:"Habit count",data:u,fill:!1,backgroundColor:"rgb(54, 162, 235)",borderColor:"rgba(54, 162, 235, 0.2)",yAxisID:"y-axis-2"}]};return Object(k.jsxs)(k.Fragment,{children:[Object(k.jsxs)("div",{className:"header",children:[Object(k.jsx)("h3",{className:"title",children:"mood x habit"}),Object(k.jsx)("div",{className:"links",children:Object(k.jsx)("a",{className:"btn btn-gh",href:"https://github.com/reactchartjs/react-chartjs-2/blob/master/example/src/charts/MultiAxisLine.js",children:"Github Source"})})]}),Object(k.jsx)(H.a,{data:O,options:{scales:{yAxes:[{type:"linear",display:!0,position:"left",id:"y-axis-1"},{type:"linear",display:!0,position:"right",id:"y-axis-2",gridLines:{drawOnArea:!1}}]}}})]})}var z=function(){var e=Object(n.useState)(""),t=Object(o.a)(e,2),a=t[0],c=t[1];return Object(k.jsxs)("div",{className:"App",children:[Object(k.jsx)(E.b,{to:"/",children:Object(k.jsx)("h1",{children:"MOOD"})}),Object(k.jsxs)(l.d,{children:[Object(k.jsx)(l.b,{path:"/sign-in",children:Object(k.jsx)(A,{})}),Object(k.jsx)(l.b,{path:"/login",children:Object(k.jsx)(A,{setUserId:c})}),Object(k.jsx)(l.b,{path:"/sign-up",children:Object(k.jsx)(W,{setUserId:c})}),Object(k.jsx)(l.b,{path:"/mood-form/:user_id",children:a?Object(k.jsx)(Y,{userId:a}):Object(k.jsx)(l.a,{to:"/login"})}),Object(k.jsx)(l.b,{path:"/stats/:user_id",children:a?Object(k.jsx)(B,{userId:a}):Object(k.jsx)(l.a,{to:"/login"})}),Object(k.jsx)(l.b,{path:"/daily-stats/:user_id/:date",children:a?Object(k.jsx)(G,{userId:a}):Object(k.jsx)(l.a,{to:"/login"})}),Object(k.jsx)(l.b,{path:"/graph/:user_id/",children:a?Object(k.jsx)(V,{userId:a}):Object(k.jsx)(l.a,{to:"/login"})}),Object(k.jsx)(l.b,{path:"/",children:a?Object(k.jsx)(N,{userId:a}):Object(k.jsx)(l.a,{to:"/login"})})]})]})},J=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,208)).then((function(t){var a=t.getCLS,n=t.getFID,c=t.getFCP,s=t.getLCP,i=t.getTTFB;a(e),n(e),c(e),s(e),i(e)}))};i.a.render(Object(k.jsx)(c.a.StrictMode,{children:Object(k.jsx)(E.a,{children:Object(k.jsx)(z,{})})}),document.getElementById("root")),J()}},[[159,1,2]]]);
//# sourceMappingURL=main.5a252fa6.chunk.js.map